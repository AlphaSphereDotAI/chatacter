name: Chatacter
on:
    push:
        branches: main
    pull_request:
jobs:
    Documentation:
        runs-on: ubuntu-latest
        steps:
            - name: Harden the runner (Audit all outbound calls)
              uses: step-security/harden-runner@20cf305ff2072d973412fa9b1e3a4f227bda3c76 # v2.14.0
              with:
                egress-policy: audit
            - name: Checkout
              uses: actions/checkout@v6.0.1
            - name: Set up UV
              uses: astral-sh/setup-uv@v7.2.0 
            - name: Install the project
              run: uv sync --frozen --no-dev
            - name: Build documentation
              run: uv run mkdocs gh-deploy -v --force
    SonarCloud:
        runs-on: ubuntu-latest
        steps:
            - name: Harden the runner (Audit all outbound calls)
              uses: step-security/harden-runner@20cf305ff2072d973412fa9b1e3a4f227bda3c76 # v2.14.0
              with:
                egress-policy: audit
            - uses: actions/checkout@v6.0.1
              with:
                  fetch-depth: 0
            - name: SonarCloud Scan
              uses: SonarSource/sonarcloud-github-action@v5.0.0
              env:
                  GITHUB_TOKEN: ${{ secrets.TOKEN_GITHUB }}
                  SONAR_TOKEN: ${{ secrets.SONAR_TOKEN }}


